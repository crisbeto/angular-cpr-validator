/*! angular-cpr-validator 2015-06-21 */
"use strict";angular.module("angular-cpr-validator",[]).constant("validateCprConfig",{checkModulus:!0,cprRegex:/^\d{10}$/,cleanupRegex:/-/g,daysInMonth:[31,29,31,30,31,30,31,31,30,31,30,31],controlNumbers:[4,3,2,7,6,5,4,3,2,1]}).directive("validateCpr",["validateCprConfig",function(a){var b=function(b){if(!b)return!1;var c=(b+"").replace(a.cleanupRegex,"");if(a.cprRegex.test(c)){var d=c.substring(2,4)-0;if(0===d||d>12)return!1;var e=parseInt(c.substring(0,2));return e>a.daysInMonth[d-1]?!1:c}return!1},c=function(b){var c=(b+"").split(""),d=a.controlNumbers,e=0;return angular.forEach(c,function(a,b){var c=d[b];e+=a*c}),e%11===0};return{require:"ngModel",scope:{checkModulus:"="},link:function(d,e,f,g){var h=function(e){var f=b(e),h=angular.isDefined(d.checkModulus)?d.checkModulus:a.checkModulus;return f&&h&&(f=c(f)),g.$setValidity("cpr",f),f||void 0};g.$parsers.push(h),g.$formatters.push(h)}}}]);